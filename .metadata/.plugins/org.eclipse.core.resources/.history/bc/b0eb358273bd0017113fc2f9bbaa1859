package firebase;

import com.google.firebase.database.DataSnapshot;
import com.google.firebase.database.DatabaseError;
import com.google.firebase.database.DatabaseReference;
import com.google.firebase.database.FirebaseDatabase;
import com.google.firebase.database.ValueEventListener;


import model.Code;


class ProductCode
{
	Code code;
	public void getpCode()
	{
		final FirebaseDatabase database = FirebaseDatabase.getInstance();
		DatabaseReference ref = database.getReference("CMP/Product");
		
		// Attach a listener to read the data at our posts reference
		ref.addValueEventListener(new ValueEventListener() 
		{	 
		    public void onDataChange(DataSnapshot dataSnapshot) 
		    {
		    	code = dataSnapshot.getValue(Code.class);
		        System.out.println("제발요" + code);
		        System.out.println(code.productCode);
		    }

		    public void onCancelled(DatabaseError databaseError) 
		    {
		        System.out.println("The read failed: " + databaseError.getCode());
		    }
		});
		
		try 
		{
			Thread.sleep(2000);
		} 
		catch (InterruptedException e) 
		{
			e.printStackTrace();
		}
	} // end of getpCode
} // end of ProductCode

public class Pratice
{

	public static void main(String args[])
	{
		DB db = new DB();
		db.connectDB();

	} // end of main
	
} // end of Pratice