package pratice;

import java.util.HashMap;
import java.util.Map;
import java.util.concurrent.ExecutionException;

import com.google.firebase.database.DatabaseReference;
import com.google.firebase.database.FirebaseDatabase;
import com.google.firebase.tasks.Task;
import com.google.firebase.tasks.Tasks;

import model.Product;

public class Just
{
	public void uploadItemData(String pictureAddress, String productName, String productPrice, String productStock , String productExplan)
	{
		final FirebaseDatabase database = FirebaseDatabase.getInstance();
		DatabaseReference menuRef = database.getReference("CMP/Menu");
		
		//상품코드로 경로에 저장
		DatabaseReference  productRef = menuRef.child("1");
    
		System.out.println("4. uploadItemData");
		
      Map<String, Product> productList = new HashMap<String, Product>();

         productList.put("Info", new Product(pictureAddress, productName, productPrice, productStock , productExplan));
        
         productRef.setValue(productList);
         
         System.out.println("Log : uploadItemData() : putData");
         
         Task<Void> task = productRef.setValue(productList);
         
         try 
         {
         	System.out.println("Log : uploadItemData() :  await");
            Tasks.await(task);
         } 
         
         catch (ExecutionException e) 
         {
         	e.printStackTrace();
         }
         
         catch(InterruptedException e)
         {
         	e.printStackTrace();
         }
  		
	} // end of uploadItemData
	public static void main(String args[])
	{
		
		
	} // end of main

} // end of Just
